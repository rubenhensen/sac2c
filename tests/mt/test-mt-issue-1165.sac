//
// This tests makes sure that the MT backend code-generation is working.
//

// SAC_TEST|include common.mk
// SAC_TEST|SAC2C_FLAGS += -t mt_pth -minmtsize 5 -trace m
//
// SAC_TEST|all: <file-name-we>
// SAC_TEST|<tab>./$< -mt 4 2>&1 | fgrep "now" | tail -n 1 | $(GREP_COMMAND_OUTPUT) "now: 0" 1

noinline
int[.] ++( int[.] arr_a, int[.] arr_b)
{
  return( arr_a);
}

int main () {
	e2 = with {
		([0] <= [iv] < [10]) : [42,42,42];
	} : fold (++, [1,2,3]);

	return _sel_VxA_( [2], e2);
}

