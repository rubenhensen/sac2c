// Sometimes the compiler is able to infer the return value, without
// investigating some of the arguments. This is intended behaviour, as we want
// to aggressively optimise. That means that, in the following example, we
// return 3 instead of an error even though b does not match the given type
// pattern, because b is not required to compute the result.
//
// SAC_TEST|include common.mk
// SAC_TEST|SAC2C_FLAGS += -noprelude -ecc -check tc
// SAC_TEST|CALL_SAC2C := $(SAC2C) $(SAC2C_FLAGS)
//
// SAC_TEST|all: <file-name-we>
// SAC_TEST|<tab>$(CHECK_RETURN_STATUS) $< 3

int foo (int[n,m] a, int[n,m] b)
{
    return _add_SxS_ (n, m);
}

int main()
{
    a = [[1], [2]];
    b = [[1, 1], [2, 2]];
    res = foo (a, b);
    return res;
}
