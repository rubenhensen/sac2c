#
#
# $Log$
# Revision 1.26  2005/07/21 09:38:08  sbs
# added -O0 as CFLAGS in the debug case
# However, that should be more compiler independent.....eventually
#
# Revision 1.25  2005/07/18 09:38:21  ktr
# added check for available xslt engines
#
# Revision 1.24  2005/06/14 12:27:35  sah
# use libtool to build sac2c
#
# Revision 1.23  2004/12/11 17:36:38  ktr
# added -DCLEANMEM
#
# Revision 1.22  2004/11/26 20:53:35  sbs
# OBJI deactivated
#
# Revision 1.21  2004/11/26 19:14:17  sbs
# OBJs deactivated
#
# Revision 1.20  2004/11/26 17:25:55  sbs
# PADT deactivated
#
# Revision 1.19  2004/11/26 14:04:51  sbs
# AE, WLAA, TSI deactivated
#
# Revision 1.18  2004/11/26 14:00:44  sbs
# WLAA and AE deactivated
#
# Revision 1.17  2004/11/23 12:06:05  sbs
# global INCS setting crdeated
#
# Revision 1.16  2004/11/21 11:22:03  sah
# removed some old ast infos
#
# Revision 1.15  2004/11/09 17:42:36  sah
# added LDDYNFLAG
#
# Revision 1.14  2004/09/30 19:54:31  sah
# added NEWAST flag
#
# Revision 1.13  2004/08/07 13:55:22  sah
# if available, gnu indent is used instead of cb
# which improves readability of generated code
#
# Revision 1.12  2004/07/03 15:20:20  sah
# added dummy XSLTENGINE for old ast mode
#
# Revision 1.11  2004/07/03 15:09:35  sah
# added the new node representation into the source code.
# the new ast can be enabled by make newast int the
# project root
#
# Revision 1.10  2004/07/01 14:32:39  sah
# added NEW_AST flag
#
# Revision 1.9  2004/03/10 00:03:56  dkrHH
# TAGGED_ARRAYS removed
#
# Revision 1.8  2003/09/22 15:21:57  dkr
# ICM_TESTER added
#
# Revision 1.7  2003/09/19 15:04:39  dkr
# CODE_BEAUTIFIER added
#
# Revision 1.6  2003/03/21 15:53:57  sah
# platform specific flags
# are now set in configure
#
# Revision 1.5  2003/03/21 11:46:05  sah
# added MT & PHM Makefile flags
#
# Revision 1.4  2003/03/21 10:24:37  sbs
# YYDEBUG now set to 1 explicitly!
#
# Revision 1.3  2003/03/20 23:21:39  sah
# now architecture and os
# are seperated again ;)
#
# Revision 1.2  2003/03/20 23:12:14  sah
# OS now includes architecture
#
# Revision 1.1  2003/03/20 22:20:49  sah
# Initial revision
#
#


################################################################################
#
# OS setup:
#

OS=@OS@
ARCH=@ARCH@

################################################################################
#
# MT & PHM Setup:
#

DISABLE_MT   := @DISABLE_MT@
DISABLE_PHM  := @DISABLE_PHM@

################################################################################
#
# general setup:
#

CC           := @CC@
CCPROD       := @CC@
CCFLAGS      := @MKCCFLAGS@ @OSFLAGS@ -DNEW_AST
CCDEPS_FLAGS := @DEPSFLAG@ $(CCFLAGS) -DNEW_AST
CCPROD_FLAGS := @PDCCFLAGS@ @OSFLAGS@ -DNEW_AST
CFLAGS       := -DSHOW_MALLOC -DWLAA_DEACTIVATED -DAE_DEACTIVATED \
                -DTSI_DEACTIVATED -DPADT_DEACTIVATED -DOBJUC_DEACTIVATED \
                -DOBJR_DEACTIVATED -DOBJ_DEACTIVATED -DOBJI_DEACTIVATED \
                -DCLEANMEM -O0
CPROD_FLAGS  := -DDBUG_OFF -DPRODUCTION -DWLAA_DEACTIVATED -DAE_DEACTIVATED \
                -DTSI_DEACTIVATED -DPADT_DEACTIVATED -DOBJUC_DEACTIVATED \
                -DOBJR_DEACTIVATED -DOBJ_DEACTIVATED -DOBJI_DEACTIVATED
LIBTOOL      := $(PROJECT_ROOT)/libtool --mode=link 

XSLTENGINE := @XSLT@

MAKE_NORM    := $(MAKE) CC="$(CC)" CCFLAGS="$(CCFLAGS)" CFLAGS="$(CFLAGS)"
MAKE_PROD    := $(MAKE) CC="$(CCPROD)" CCFLAGS="$(CCPROD_FLAGS)" CFLAGS="$(CPROD_FLAGS)"
MAKE_CLEAN   := $(MAKE) TARGET="clean" clean
MAKEFLAGS    += --no-print-directory
LDDYNFLAG    := -export-dynamic

TAR          :=tar
EXCLUDE_INCS :=libsac runtime xml tools
INCS         :=-I../../inc $(patsubst %,-I../%,$(filter-out $(EXCLUDE_INCS),\
                                  $(notdir $(wildcard ../*))))
LIBS         :=@LIBS@@LEXLIB@
EFLIBS       :=-L/home/sacbase/efence -lefence
RM           :=rm -f
GZIP         :=gzip -f
ECHO         :=echo
LEX          :=@LEX@ -n
YACC         :=@YACC@ -dv

ifeq ($(OS),solaris2.8)
  YYFLAGS   := -DYYDEBUG=1
else
  YYFLAGS   :=
endif

CLOCK_SKEW_ELIMINATION   := $(PROJECT_ROOT)/tools/bin/cse
CODE_BEAUTIFIER          := @CB@
ICM_TESTER               := $(PROJECT_ROOT)/tools/bin/icm_tester
