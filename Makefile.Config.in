#
# $Id$
#


################################################################################
#
# OS setup:
#

OS=@OS@
ARCH=@ARCH@

################################################################################
#
# MT & PHM Setup:
#

DISABLE_MT   := @DISABLE_MT@
DISABLE_PHM  := @DISABLE_PHM@

################################################################################
#
# general setup:
#

CC           := @CC@
CCPROD       := @CC@
CCFLAGS      := @MKCCFLAGS@ @OSFLAGS@ -DNEW_AST
CCDEPS_FLAGS := @DEPSFLAG@ $(CCFLAGS) -DNEW_AST
CCPROD_FLAGS := @PDCCFLAGS@ @OSFLAGS@ -DNEW_AST
CFLAGS       := -DSHOW_MALLOC -DWLAA_DEACTIVATED -DAE_DEACTIVATED \
                -DTSI_DEACTIVATED -DPADT_DEACTIVATED -DOBJUC_DEACTIVATED \
                -DOBJR_DEACTIVATED -DOBJ_DEACTIVATED -DOBJI_DEACTIVATED
CPROD_FLAGS  := -DDBUG_OFF -DPRODUCTION -DWLAA_DEACTIVATED -DAE_DEACTIVATED \
                -DTSI_DEACTIVATED -DPADT_DEACTIVATED -DOBJUC_DEACTIVATED \
                -DOBJR_DEACTIVATED -DOBJ_DEACTIVATED -DOBJI_DEACTIVATED
LIBTOOL      := $(PROJECT_ROOT)/libtool --mode=link 

XSLTENGINE := @XSLT@

MAKE_NORM    := $(MAKE) CC="$(CC)" CCFLAGS="$(CCFLAGS)" CFLAGS="$(CFLAGS)"
MAKE_PROD    := $(MAKE) CC="$(CCPROD)" CCFLAGS="$(CCPROD_FLAGS)" CFLAGS="$(CPROD_FLAGS)"
MAKE_CLEAN   := $(MAKE) TARGET="clean" clean
MAKEFLAGS    += --no-print-directory
LDDYNFLAG    := -export-dynamic

TAR          :=tar
EXCLUDE_INCS :=libsac runtime xml tools
INCS         :=-I../../inc $(patsubst %,-I../%,$(filter-out $(EXCLUDE_INCS),\
                                  $(notdir $(wildcard ../*))))
LIBS         :=@LIBS@@LEXLIB@
EFLIBS       :=-L/usr2/sacware/lib -lefence
RM           :=rm -f
GZIP         :=gzip -f
ECHO         :=echo
LEX          :=@LEX@ -n
YACC         :=@YACC@ -dv

ifeq ($(OS),solaris2.8)
  YYFLAGS   := -DYYDEBUG=1
else
  YYFLAGS   :=
endif

CLOCK_SKEW_ELIMINATION   := $(PROJECT_ROOT)/tools/bin/cse
CODE_BEAUTIFIER          := @CB@
ICM_TESTER               := $(PROJECT_ROOT)/tools/bin/icm_tester
